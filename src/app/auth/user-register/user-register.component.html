<div class="registration-page">
  <div class="registration-container">
    <div class="registration-header">
      <img src="assets/images/logo.png" alt="Company Logo" class="logo">
      <h1>Create Your Account</h1>
      <p class="subtitle">Join our platform to access exclusive features and opportunities</p>
    </div>

    <mat-card class="registration-card mat-elevation-z8">
      <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <div class="form-grid">
            <!-- Column 1 -->
            <div class="form-column">
              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Username</mat-label>
                  <input matInput formControlName="username" required>
                  <mat-icon matPrefix>person_outline</mat-icon>
                  <mat-error *ngIf="registerForm.get('username')?.errors?.['required']">
                    Required field
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('username')?.errors?.['minlength']">
                    Minimum 3 characters
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('username')?.errors?.['maxlength']">
                    Maximum 20 characters
                  </mat-error>
                </mat-form-field>
              </div>

              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Email</mat-label>
                  <input matInput type="email" formControlName="email" required>
                  <mat-icon matPrefix>email</mat-icon>
                  <mat-error *ngIf="registerForm.get('email')?.errors?.['required']">
                    Required field
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('email')?.errors?.['email']">
                    Invalid email format
                  </mat-error>
                </mat-form-field>
              </div>


              <div class="form-group gender-group">
                <label>Gender</label>
                <mat-radio-group formControlName="sexe" class="radio-group" required>
                  <mat-radio-button value="Male" class="radio-button">
                    <div class="radio-content">
                      <mat-icon>male</mat-icon>
                      <span>Male</span>
                    </div>
                  </mat-radio-button>
                  <mat-radio-button value="Female" class="radio-button">
                    <div class="radio-content">
                      <mat-icon>female</mat-icon>
                      <span>Female</span>
                    </div>
                  </mat-radio-button>
                </mat-radio-group>
                <mat-error *ngIf="registerForm.get('sexe')?.touched && registerForm.get('sexe')?.errors?.['required']">
                  Please select your gender
                </mat-error>
              </div>



            </div>

            <!-- Column 2 -->
            <div class="form-column">
              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>First Name</mat-label>
                  <input matInput formControlName="firstName" required>
                  <mat-icon matPrefix>badge</mat-icon>
                  <mat-error *ngIf="registerForm.get('firstName')?.errors?.['required']">
                    Required field
                  </mat-error>
                </mat-form-field>
              </div>

              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Last Name</mat-label>
                  <input matInput formControlName="lastName" required>
                  <mat-icon matPrefix>badge</mat-icon>
                  <mat-error *ngIf="registerForm.get('lastName')?.errors?.['required']">
                    Required field
                  </mat-error>
                </mat-form-field>
              </div>

              <div class="form-group">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Phone Number</mat-label>
                  <input matInput formControlName="phoneNumber" required>
                  <mat-icon matPrefix>phone</mat-icon>
                  <mat-error *ngIf="registerForm.get('phoneNumber')?.errors?.['required']">
                    Required field
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
          </div>

          <!-- Bottom Row -->
          <div class="form-row">


            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Address</mat-label>
                <input matInput formControlName="address" required>
                <mat-icon matPrefix>location_on</mat-icon>
                <mat-error *ngIf="registerForm.get('address')?.errors?.['required']">
                  Required field
                </mat-error>
              </mat-form-field>
            </div>

            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Centre</mat-label>
                <mat-select formControlName="centre" required>
                  <mat-option *ngFor="let centre of centres" [value]="centre">
                    {{centre}}
                  </mat-option>
                </mat-select>
                <mat-icon matPrefix>school</mat-icon>
                <mat-error *ngIf="registerForm.get('centre')?.errors?.['required']">
                  Required field
                </mat-error>
              </mat-form-field>
            </div>




            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Password</mat-label>
                <input matInput type="password" formControlName="password" required>
                <mat-icon matPrefix>lock</mat-icon>
                <mat-error *ngIf="registerForm.get('password')?.errors?.['required']">
                  Required field
                </mat-error>
                <mat-error *ngIf="registerForm.get('password')?.errors?.['minlength']">
                  Minimum 6 characters
                </mat-error>
              </mat-form-field>
            </div>



          </div>

          <div class="form-actions">
            <div class="alert-container">
              <div class="alert alert-danger" *ngIf="isSignUpFailed">
                <mat-icon>error</mat-icon>
                <div class="alert-content">
                  Registration failed: {{ errorMessage }}
                </div>
              </div>
              <div class="alert alert-success" *ngIf="isSuccessful">
                <mat-icon>check_circle</mat-icon>
                <div class="alert-content">
                  {{ message }}
                </div>
              </div>
            </div>

            <button mat-raised-button color="primary" type="submit" [disabled]="registerForm.invalid" class="submit-button">
              <mat-icon>how_to_reg</mat-icon>
              Complete Registration
            </button>

            <div class="login-prompt">
              Already have an account? <a routerLink="/login">Sign In</a>
            </div>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
